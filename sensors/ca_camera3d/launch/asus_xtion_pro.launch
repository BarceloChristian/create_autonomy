<launch>
  <arg name="camera_name" value="asus_xtion_pro"/>
  <include file="$(find openni2_launch)/launch/openni2.launch">
    <arg name="camera" value="$(arg camera_name)"/>
  </include>

  <node name="depthimage_to_laserscan" pkg="depthimage_to_laserscan" type="depthimage_to_laserscan">
    <remap from="image" to="$(arg camera_name)/depth/image_raw"/>
    <param name="output_frame_id" value="$(arg camera_name)_depth_optical_frame"/>
    <rosparam command="load" file="$(find ca_camera3d)/config/asus_xtion_pro.yaml"/>
    <remap from="scan" to="laser/scan"/>
  </node>

  <!-- RViz -->
  <arg name="rviz" default="false"/>
  <include if="$(arg rviz)" file="$(find ca_tools)/launch/rviz.launch">
    <arg name="config_file" value="$(find ca_tools)/rviz/camera3d.rviz"/>
  </include>
</launch>